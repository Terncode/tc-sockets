"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getMethods = exports.getMethodMetadata = exports.Method = void 0;
var methodMetadata = new Map();
function Method(options) {
    if (options === void 0) { options = {}; }
    return function (target, name) {
        var meta = methodMetadata.get(target.constructor) || [];
        meta.push({ name: name, options: options });
        methodMetadata.set(target.constructor, meta);
    };
}
exports.Method = Method;
function getMethodMetadata(ctor) {
    return methodMetadata.get(ctor);
}
exports.getMethodMetadata = getMethodMetadata;
function generateMethodMetadata(prototype) {
    return Object.keys(prototype)
        .filter(function (k) { return k !== 'connected' && k !== 'disconnected' && k !== 'invalidVersion' && typeof prototype[k] === 'function'; })
        .map(function (name) { return ({ name: name, options: {} }); });
}
function getMethods(ctor) {
    return getMethodMetadata(ctor) || generateMethodMetadata(ctor.prototype);
}
exports.getMethods = getMethods;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tb24vbWV0aG9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLElBQU0sY0FBYyxHQUFHLElBQUksR0FBRyxFQUE4QixDQUFDO0FBRTdELFNBQWdCLE1BQU0sQ0FBQyxPQUEyQjtJQUEzQix3QkFBQSxFQUFBLFlBQTJCO0lBQ2pELE9BQU8sVUFBVSxNQUFjLEVBQUUsSUFBWTtRQUM1QyxJQUFNLElBQUksR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDMUQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksTUFBQSxFQUFFLE9BQU8sU0FBQSxFQUFFLENBQUMsQ0FBQztRQUM3QixjQUFjLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUMsQ0FBQyxDQUFDO0FBQ0gsQ0FBQztBQU5ELHdCQU1DO0FBRUQsU0FBZ0IsaUJBQWlCLENBQUMsSUFBYztJQUMvQyxPQUFPLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUZELDhDQUVDO0FBRUQsU0FBUyxzQkFBc0IsQ0FBQyxTQUFjO0lBQzdDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7U0FDM0IsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxLQUFLLFdBQVcsSUFBSSxDQUFDLEtBQUssY0FBYyxJQUFJLENBQUMsS0FBSyxnQkFBZ0IsSUFBSSxPQUFPLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxVQUFVLEVBQXpHLENBQXlHLENBQUM7U0FDdEgsR0FBRyxDQUFDLFVBQUEsSUFBSSxJQUFJLE9BQUEsQ0FBQyxFQUFFLElBQUksTUFBQSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUF2QixDQUF1QixDQUFDLENBQUM7QUFDeEMsQ0FBQztBQUVELFNBQWdCLFVBQVUsQ0FBQyxJQUFjO0lBQ3hDLE9BQU8saUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFFLENBQUM7QUFGRCxnQ0FFQyIsImZpbGUiOiJjb21tb24vbWV0aG9kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWV0aG9kTWV0YWRhdGEsIE1ldGhvZE9wdGlvbnMgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5jb25zdCBtZXRob2RNZXRhZGF0YSA9IG5ldyBNYXA8RnVuY3Rpb24sIE1ldGhvZE1ldGFkYXRhW10+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBNZXRob2Qob3B0aW9uczogTWV0aG9kT3B0aW9ucyA9IHt9KSB7XG5cdHJldHVybiBmdW5jdGlvbiAodGFyZ2V0OiBPYmplY3QsIG5hbWU6IHN0cmluZykge1xuXHRcdGNvbnN0IG1ldGEgPSBtZXRob2RNZXRhZGF0YS5nZXQodGFyZ2V0LmNvbnN0cnVjdG9yKSB8fCBbXTtcblx0XHRtZXRhLnB1c2goeyBuYW1lLCBvcHRpb25zIH0pO1xuXHRcdG1ldGhvZE1ldGFkYXRhLnNldCh0YXJnZXQuY29uc3RydWN0b3IsIG1ldGEpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0aG9kTWV0YWRhdGEoY3RvcjogRnVuY3Rpb24pOiBNZXRob2RNZXRhZGF0YVtdIHwgdW5kZWZpbmVkIHtcblx0cmV0dXJuIG1ldGhvZE1ldGFkYXRhLmdldChjdG9yKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVNZXRob2RNZXRhZGF0YShwcm90b3R5cGU6IGFueSkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMocHJvdG90eXBlKVxuXHRcdC5maWx0ZXIoayA9PiBrICE9PSAnY29ubmVjdGVkJyAmJiBrICE9PSAnZGlzY29ubmVjdGVkJyAmJiBrICE9PSAnaW52YWxpZFZlcnNpb24nICYmIHR5cGVvZiBwcm90b3R5cGVba10gPT09ICdmdW5jdGlvbicpXG5cdFx0Lm1hcChuYW1lID0+ICh7IG5hbWUsIG9wdGlvbnM6IHt9IH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGhvZHMoY3RvcjogRnVuY3Rpb24pOiBNZXRob2RNZXRhZGF0YVtdIHtcblx0cmV0dXJuIGdldE1ldGhvZE1ldGFkYXRhKGN0b3IpIHx8IGdlbmVyYXRlTWV0aG9kTWV0YWRhdGEoY3Rvci5wcm90b3R5cGUpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hbHBoYS9EZXNrdG9wL2Rldi90Yy1zb2NrZXRzL3NyYyJ9
